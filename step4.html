<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

<!-- Begin Jekyll SEO tag v2.7.1 -->
<title>Absolute Dissociation Free Energy calculations on HPCs: vDSSB tutorial for GROMACS users | vdssb_gromacs</title>
<meta name="generator" content="Jekyll v3.9.0" />
<meta property="og:title" content="Absolute Dissociation Free Energy calculations on HPCs: vDSSB tutorial for GROMACS users" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="test pages" />
<meta property="og:description" content="test pages" />
<link rel="canonical" href="https://procacci.github.io/vdssb_gromacs/" />
<meta property="og:url" content="https://procacci.github.io/vdssb_gromacs/" />
<meta property="og:site_name" content="vdssb_gromacs" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Absolute Dissociation Free Energy calculations on HPCs: vDSSB tutorial for GROMACS users" />
<script type="application/ld+json">
{"headline":"Absolute Dissociation Free Energy calculations on HPCs: vDSSB tutorial for GROMACS users","description":"test pages",
"url":"https://procacci.github.io/vdssb_gromacs/","@type":"WebSite","name":"vdssb_gromacs","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->

    <link rel="stylesheet" href="/vdssb_gromacs/assets/css/style.css?v=16c48c577b78999daacffb7c89c7e831c9ca80b9">
    <!-- start custom head snippets, customize with your own _includes/head-custom.html file -->

<!-- Setup Google Analytics -->



<!-- You can set your favicon here -->
<!-- link rel="shortcut icon" type="image/x-icon" href="/vdssb_gromacs/favicon.ico" -->

<!-- end custom head snippets -->

  </head>
  <body>
    <div class="container-lg px-3 my-5 markdown-body">
      
      <!-- <h1><a href="https://procacci.github.io/vdssb_gromacs/">vdssb_gromacs</a></h1> -->
      

      <h1 id="step-4-:-selection-of-the-(enhanced-sampled)-configurations-(HPC)"> Step 4: Selection of the (enhanced sampled) configurations (HPC)</h1>
     
    Once the batch jobs in <a href="step3.html" style="color:#FF6347;"> Step 3 </a> are
    finalized, we use the common tools of the GROMACS suite
    (<a href="https://manual.gromacs.org/documentation/5.1/onlinehelp/gmx-trjconv.html"><code>trjconv</code><a/>) to extract the configurations of the target
    bound and unbound states generated by the HREM simulations on the
    HPC.
    To this end, for the bound state, we do:
<pre>
  cd USER_SCRATCH/bound
  mkdir conf
  for i in {0..5}; do\
  echo "0" | gmx trjconv -f /BATTERY$i/scaled0/traj_comp.xtc -s /BATTERY$i/scaled0/HREM.tpr -pbc mol -ur  compact -b 2000 -skip 8 -sep -o conf/conf"$i"_.pdb\
  done
</pre>   

For the unbound state, we do:
<pre>
  cd USER_SCRATCH/unbound
  mkdir conf
  for i in {0..3}; do\
  echo "0" | gmx trjconv -f BATTERY$i/scaled0/traj_comp.xtc -s BATTERY$i/scaled0/HREM.tpr -pbc mol -ur  compact -b 3000 -skip 5 -sep  -o conf/conf"$i"_.gro -box 3.00000 3.00000 3.00000 -center  
  done
</pre>
<p style="text-align:justify">These commands extract the target state configurations for the PF-07321332-3CL<sup>pro</sup>
complex generated in the <a href="step3.html" style="color:#FF6347;"> Step 3 </a> and store
them (in <code> gro </code> format) in a <code> conf </code> directory.
For the unbound state, prior to submission (Step 5), you need to execute the
script <a href="step4/addwater_sh.html"> <code>addwater.sh</code></a>(also
provided in the SI.zip archive attached to the JCIM note) in the
directory unbound. The script combines the HREM-sampled gas-phase
configurations with a box of equilibrated water in standard
conditions, generating a directory <code>gro_lw</code> containing the
starting configurations for the NS unbound state ligand growth. </p> 
<br>
<p style="text-align:justify">The generation of the starting configurations can also be done using simple scripts for the <a href="step4/get_bound.html"> bound state</a>
and <a href="step4/get_unbound.html"> unbound state</a>, available in the SI.zip attached to the JCIM paper.<br>
Extraction of the HREM-generated configurations
for the bound and unbound state requires few seconds.</p><br>
<br>

<b> N.B.(1): </b> The printing frequency (and hence the number of
decorrelated enhaced-sampled configurations in the target states) is
specified in the
HPC_Drug-generated <a href="step2/hrem_files.html"><code>mdp</code> GROMACS
input files</a> for the HREM simulations, also available at the
vDSSB <a href="https://zenodo.org/record/5139374"> Zenodo <a/>
repository. <br>
  
<b> N.B(2)</b>: In addwater.sh the number 3072 and 3139 are relative to
our example. 3072 is the number of atoms in the HPC_Drug provided
equilibrated water box; 3139 is the total number of water+ligand
atoms (3072+67 in our model).
      
  
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/4.1.0/anchor.min.js" integrity="sha256-lZaRhKri35AyJSypXXs4o6OPFTbTmUoltBbDCbdzegg=" 
            crossorigin="anonymous"></script>
    <script>anchors.add();</script>
  </body>
</html>
